<html>
<head>
<script
  src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>

  
  function processRequest(data) {
    $("#main_img").attr("src", data[0])
        // document.getElementById("insert").innerHTML = data[1]; 

    }
  
  function validate() {
    // var x = document.forms["form"]["class"].value;
    // alert(x); 
    // if (x == "") {
    //     alert("not selected");
    //     return false;
    // }
    $("register").removeAttr("disabled");
  }

  


  $(document).ready(function() {
    document.getElementById("insert").innerHTML = '0';
    
    $.get( "/get_test_img", function(data) {
      processRequest(data)
    });

    $("#register").click(function() {
      $.post( "/testing/get_response", document.forms["form"]["class"].value, function(data) {
        processResponse(data)
      });
      $(".radio").removeAttr("checked");
      $("register").prop("disabled", true);
    });
    
    $(".radio").click(validate)

  });
</script>

</head>
<body>
  <div style="text-align: right">
  <h4> <b id="insert"></b> of 50 </h4>
  </div>

  <div style="text-align: center">
    <h1>Target Image</h1>
    <img id="main_img" height="250" width="250" />
  </div>
  <div style="text-align: center">
    <h2>Please select and submit the option which matches the target image's class. </h2>
  </div>
  <div style="text-align: center">
    <form name='form' >
      <input type="radio" id="id1" class="radio" value="stem"> stem &nbsp; &nbsp; &nbsp;
      <input type="radio" id="id2" class="radio" value="mound"> mound &nbsp; &nbsp; &nbsp;
      <input type="radio" id="id3" class="radio" value="leaf"> leaf <br>
      <br>
      <br>
      <input type="submit" id='register' value="Submit" disabled="disabled" >
    </form>
  </div>
  

</body>
